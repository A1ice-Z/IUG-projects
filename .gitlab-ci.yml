image: node:latest

stages:
  - build
  - run
  #- test

# Job's name
Build project:
  # Define stage
  stage: build
  before_script:
    - cd iug
  # What to run on the job.
  script:
    - npm install
  artifacts:
    paths:
      - node_modules

Run project:
  stage: run
  before_script:
    - cd iug
    - npm install
  script:
    - npm run start
    - node test.js
  artifacts:
    paths:
      - node_modules/

#Test project:
 # stage: test
  #before_script:
    #- cd iug
  #script:
   # - npm test
    #- node test.js
  #artifacts:
   # paths:
    #  - node_modules/
